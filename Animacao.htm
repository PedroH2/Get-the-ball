<!DOCTYPE HTML>
<html>
<head>
		<link rel="stylesheet" type="text/css" href="style.css" media="screen"/>
<title>Animação</title>
		

    <script language="JavaScript" type="text/javascript">

    var objCanvas=null; // objeto que representa o canvas
    var objContexto=null; // objeto que representa o
    // Controle de Posicionamento do Heroi
    var xHeroi=100;
    var yHeroi=200;
    // Controle de Posicionamento do Monstro
    var vivo=true;
		var xMonstro=100;
		var yMonstro=100;   
		var xBola =  Math.random()*300 +30;;
		var yBola =  Math.random()*300 +30;;
		var xBola2 = Math.random()*300 +30;;
		var yBola2 = Math.random()*300 +30;;
		var xBola3 = Math.random()*300 +30;;
		var yBola3 = Math.random()*300 +30;;
		var VelocidadeDoArbitro = 100;
		var Bola = 0;
		var Energetico = false;
		var xEnergetico = 900
		var yEnergetico = 900
 
    // Objetos Image para cada coisa que vai aparecer na tela
    var imgFundo = new Image();
    imgFundo.src = "img/fundo.png";
    var imgHeroi = new Image();
    imgHeroi.src = "img/heroi.png";
    var imgMonstro = new Image();
    imgMonstro.src = "img/monstro.png";
		var imgBola = new Image();
		imgBola.src = "img/Bola.png";		
		var imgBola2 = new Image();
		imgBola2.src = "img/Bola.png";	
		var imgBola3 = new Image();
		imgBola3.src = "img/Bola.png";	
		var imgEnergetico = new Image();
		imgEnergetico.src = "img/Energetico.png";	
	

		
		function Iniciar(){
    		objCanvas = document.getElementById("meuCanvas");
				objContexto = objCanvas.getContext("2d");
				AtualizaTela();
				window.setTimeout("MovimentoDoMonstro()",25);
				window.setTimeout("AtualizaTela()",25);
				window.setTimeout("xEnergetico = Math.random()*300 +30;", 1200);
			  window.setTimeout("yEnergetico = Math.random()*300 +30;", 1200);
		}
		
		function AtualizaTela(){
        
				objContexto.drawImage(imgFundo,0,0);
				if ( vivo == true ){
				
				objContexto.drawImage(imgMonstro, xMonstro, yMonstro);
				objContexto.drawImage(imgHeroi, xHeroi, yHeroi);
				objContexto.drawImage(imgBola, xBola, yBola);
				objContexto.drawImage(imgBola2, xBola2, yBola2);
				objContexto.drawImage(imgBola3, xBola3, yBola3);
				objContexto.drawImage(imgEnergetico, xEnergetico, yEnergetico);
				
				}

    }
	
			
	function MovimentoDoMonstro() {

	
	if (yMonstro > yHeroi) {
	yMonstro = (yMonstro -1);
	}
	
	if (xMonstro < xHeroi) {
	xMonstro = (xMonstro+1);
	} 
	
	if (yMonstro < yHeroi ) {
	yMonstro = (yMonstro+1);}
	
	if (xMonstro > xHeroi ) {
	xMonstro =(xMonstro-1 );} 
	
	if ((xHeroi == xMonstro) && (yMonstro == yHeroi)){ 
		vivo=false; imgFundo.src = "img/perdeu.jpg"; 
		};
	
	if ( Bola == 10 ){ vivo=false; imgFundo.src = "img/ganhou.jpg";
	};
	
	
if (xHeroi <= 30 ) {
xHeroi = 30;
}

if (xHeroi >= 450 ) {
xHeroi = 450;
}

if (yHeroi <= 10 ) {
yHeroi = 10;
}

if (yHeroi >= 420 ) {
yHeroi = 420;
}
	
	AtualizaTela();
	 window.setTimeout("MovimentoDoMonstro()", VelocidadeDoArbitro );
	}

 function tecla (){

if ( event.keyCode == 39 ) {
xHeroi=(xHeroi + 3); if ( Energetico == true ){ xHeroi=(xHeroi + 3); xHeroi=(xHeroi + 3); };
AtualizaTela();// direita 

}

if ( event.keyCode == 40 ) {
yHeroi=(yHeroi + 3); if ( Energetico == true ){ yHeroi=(yHeroi + 3); yHeroi=(yHeroi + 3); };
AtualizaTela(); // baixo 

}

if ( event.keyCode == 37 ) {
xHeroi=(xHeroi - 3); if ( Energetico == true ){ xHeroi=(xHeroi - 3); xHeroi=(xHeroi - 3); };
AtualizaTela(); // esquerda 

}

if ( event.keyCode == 38 ) {
yHeroi=(yHeroi - 3); if ( Energetico == true ){ yHeroi=(yHeroi - 3); yHeroi=(yHeroi - 3); };
AtualizaTela(); // cima 
}
 
 if ( ( xHeroi >= xBola-40 && xHeroi <= xBola+40 ) &&  ( yHeroi >= yBola-40 && yHeroi <= yBola+40 ) ){ 
 Bola = Bola + 1 ; 
 xBola = 900; 
 yBola = 900; 
 VelocidadeDoArbitro = VelocidadeDoArbitro - 10; 
 AtualizaTela(); 
 
 
 window.setTimeout("xBola = Math.random()*300 +30;", 1200);
 window.setTimeout("yBola = Math.random()*300 +30;", 1200);
  }
	
	
	if ( ( xHeroi >= xBola2-40 && xHeroi <= xBola2+40 ) &&  ( yHeroi >= yBola2-40 && yHeroi <= yBola2+40 ) ){ 
 Bola = Bola + 1 ; 
 xBola2 = 900; 
 yBola2 = 900; 
 VelocidadeDoMonstro = VelocidadeDoMonstro - 10; 
 AtualizaTela(); 
 
 
 window.setTimeout("xBola2 = Math.random()*300 +30;", 1200);
 window.setTimeout("yBola2 = Math.random()*300 +30;", 1200);
  }
	
		if ( ( xHeroi >= xBola3-40 && xHeroi <= xBola3+40 ) &&  ( yHeroi >= yBola3-40 && yHeroi <= yBola3+40 ) ){ 
 Bola =Bola + 1 ; 
 xBola3 = 900; 
 yBola3 = 900; 
 VelocidadeDoArbitro = VelocidadeDoArbitro - 10; 
 AtualizaTela(); 

 
 window.setTimeout("xBola3 = Math.random()*300 +30;", 1200);
 window.setTimeout("yBola3 = Math.random()*300 +30;", 1200);
  }
		
	 if ( ( xHeroi >= xEnergetico- 40 && xHeroi <= xEnergetico+40 ) &&  ( yHeroi >= yEnergetico-40 && yHeroi <= yEnergetico+40 ) ){ 
 Energetico = true ; 
 xEnergetico = 900; 
 yEnergetico = 900; 
 AtualizaTela(); 

 window.setTimeout("Energetico = false", 4200);
 
 window.setTimeout("xEnergetico = Math.random()*300 +30;", 6200);
 window.setTimeout("yEnergetico = Math.random()*300 +30;", 6200);
  }

	
}

</script>

</head>
<body onLoad="Iniciar();">
	<h1>Fuja do árbitro e marque gols pegando a bola!!!</h1>
	
		<br>	
		<br>	
		<center>
    <canvas id="meuCanvas" width="512" height="480"
            style="border:1px solid #000000;">
    Seu browser n�o suporta o elemento CANVAS, atualize-se!!!
    </canvas>
		<br/>

		<h1>Pegue 10 bolas para vencer</h1>




<script language="JavaScript" type="text/javascript">

document.body.onkeydown = tecla;
//-->
</script>


</body>
</html>
